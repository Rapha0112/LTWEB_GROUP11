<!DOCTYPE html>
<html lang="vn">
  
<head>
    <meta charset="UTF+8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Elynas - ADMIN</title>

</head>

<body>
    <header>
        <div class="logo">
            <a href="index.html">GIAO DIỆN ADMIN</a>
        </div>
        <div class="menu">
            <li><a href="index.html">Trang<br> Chủ</a></li>
            <li><a href="1-qlmenu.html">Quản Lý<br> Sản Phẩm</a></li>
            <li><a href="1-qluser.html">Quản Lý<br> Người Dùng</a></li>
            <li><a href="1-qlshoppingcart.html">Quản Lý<br> Đơn Hàng</a></li>
            <li><a href="1-qlbusiness.html">Quản Lý<br> Kinh Doanh</a></li>
        </div>
        <div class="others">
            <li><input type="text" id="searchInput" placeholder="Tìm kiếm đơn hàng">
                <button id="searchButton" onclick="searchSP()">Tìm kiếm</button>
            </li>
            <li><a href="1-signin.html" id="getusername">Đăng Nhập</a></li>
            <button id="signoutbutton" style="display: none; border: none; background: transparent; font-style: italic;" onclick="signout()">Đăng Xuất</button>
            
        </div>
    </header>


    <main>
        <section class="cartegory">
            <div class="container">
                <div class="cartegory-top row">
                    <a href="index.html"><p>Trang Chủ</p></a><span>&#62;</span><a href="1-qlshoppingcart.html"><p>Quản Lý Đơn Hàng</p></a>
                </div>
            </div>
            <div class="container">
                <div class="row">
                    <div class="cartegory-left">
                        <ul>
                            <li class="cartegory-left-li"><a href="1-qlmenu.html">Quản Lý Sản Phẩm</a>
                            </li>
                            <li class="cartegory-left-li"><a href="1-qluser.html">Quản Lý Người Dùng</a>
                            </li>
                            <li class="cartegory-left-li"><a href="1-qlshoppingcart.html">Quản Lý Đơn Hàng</a>
                            </li>
                            <li class="cartegory-left-li"><a href="1-qlbusiness.html">Quản Lý Kinh Doanh</a></li>
                        </ul>
                    </div>
                    <div class="cartegory-right row">
                        <div class="cartegory-right-top-item">
                            <p>Quản lý tất cả đơn hàng</p>
                        </div>
                        <div id="product-container" class="product">
                        </div>
                        <div class="cartegory-right-bottom row">
                            <div class="cartegory-right-bottom-items">
                                <div class="pagination" id="pagination">
                                </div>
                        </div>
                    </div>
                    </div>
                </div>
            </div>
            
        </section>
    </main>


    <footer>
        <div id="footer">
            
            <div class="contactBySocialMedia">
                <a>Contact us by :</a>
                <ul>
                    <li><a href="https://www.facebook.com/profile.php?id=100082839331339" target="_blank"><i><img width="40px" height="40px" src="icon-facebook.png"></i></a></li>
                    <li><a href="https://www.youtube.com/channel/UCdvAt-M9xRWo4yNJK8S5CKw"target="_blank"><i><img width="40px" height="40px" src="icon-youtube.png"></i></a></li>
                    <li><a href="https://www.instagram.com/__tienminh.0112__/" target="_blank"><i><img width="40px" height="40px" src="icon-instagram.png"></i></a></li>
                </ul>
            </div>
            <div class="contactByCall">
                <a href="tel:9031849810">
                    <i><img width="15px" height="15px" src="icon-call.png"></i>
                    <span data-class="phone_contact_i" class="link_footer phone_contact_tem color-phone-contact contenteditable"> 0931849810 </span>
                </a>
            </div>
            <div class="contactByMail">
                <a href="mailto:tienminh.0112.lynn@gmail.com">
                   <i><img width="15px" height="15px" src="icon-mail.png"></i>
                   <span data-class="email_contact_i" class="link_footer2 email_contact_tem color-email-contact contenteditable"> tienminh.0112.lynn@gmail.com </span>
                </a>
            </div>
            <div class="copyRight">© 2023 Elynas. All rights reserved</div>
        </div>
    </footer>
</body>

<script>

const itemslidebar = document.querySelectorAll(".cartegory-left-li")
itemslidebar.forEach(function(menu,index){
    menu.addEventListener("click",function(){
    menu.classList.toggle("block")
    })
})
var userAdmin = JSON.parse(localStorage.getItem('userAdmin'));
    if (userAdmin && userAdmin.username) 
    {
        document.getElementById('getusername').textContent = 'Xin chào, ' + userAdmin.username + '!';
        document.getElementById('getusername').removeAttribute('href');
        document.getElementById('signoutbutton').style.display = 'block';
    }


    function signout() {
        localStorage.removeItem('userAdmin');
        document.getElementById('signoutbutton').style.display = 'none';
        document.getElementById('getusername').textContent = 'Đăng Nhập';
        document.getElementById('getusername').href = '1-signin.html';
        window.location.href = '1-signin.html';
    }

    function checksignin() {
    const userAdmin = JSON.parse(localStorage.getItem('userAdmin'));
    return userAdmin !== null;
}


    var products = [
        {image: 'shoppingcart.png', name: 'ĐƠN HÀNG SỐ 1', id: '601', status: 'Đã giao', link: '5-order-01.html'},
            {image: 'shoppingcart.png', name: 'ĐƠN HÀNG SỐ 2', id: '602', status: 'Đã giao', link: '5-order-02.html'},
            {image: 'shoppingcart.png', name: 'ĐƠN HÀNG SỐ 3', id: '603', status: 'Đang giao', link: '5-order-03.html'},
            {image: 'shoppingcart.png', name: 'ĐƠN HÀNG SỐ 4', id: '604', status: 'Đang giao', link: '5-order-04.html'},
            {image: 'shoppingcart.png', name: 'ĐƠN HÀNG SỐ 5', id: '605', status: 'Đang giao', link: '5-order-05.html'},
            {image: 'shoppingcart.png', name: 'ĐƠN HÀNG SỐ 6', id: '606', status: 'Đang chuẩn bị', link: '5-order-06.html'},
            {image: 'shoppingcart.png', name: 'ĐƠN HÀNG SỐ 7', id: '607', status: 'Đang chuẩn bị', link: '5-order-07.html'}
            
        ];

    var productsPerPage = 8;
    var currentPage = 1;
    var pagesToShow = 3;
    function showProducts() {
            var start = (currentPage - 1) * productsPerPage;
            var end = start + productsPerPage;
            var productsToShow = products.slice(start, end);
            var container = document.getElementById('product-container');
            container.innerHTML = '';

            for (var i = 0; i < productsToShow.length; i++) {
                var product = productsToShow[i];
                var productCard = `
                    <div class="product-card">
                        <img src="${product.image}" alt="${product.name}">
                        <h1>${product.name}</h1>
                        <ul>Mã ĐH: ${product.id}</ul>
                        <p>Trạng thái: ${product.status}</p>
                        <a href="${product.link}">Chỉ tiết đơn hàng</a>
                    </div>
                `;
                container.innerHTML += productCard;
            }
        }
        function showPagination() {
            var totalPages = Math.ceil(products.length / productsPerPage);
            var pagination = document.getElementById('pagination');
            pagination.innerHTML = '';
            for (var i = 1; i <= totalPages; i++) {
                var pageButton = `<a style="border-radius:5px; padding: 5px 5px; font-size:15px; margin: 10px;" onmouseover="this.style.backgroundColor='orchid'; this.style.color='white';" onmouseout="this.style.backgroundColor=''; this.style.color='';" href="#" onclick="changePage(${i})">${i}</a>`;
                pagination.innerHTML += pageButton;
            }
        }
        function changePage(page) {
            currentPage = page;
            showProducts();
        }
        showProducts();
        showPagination();
    
        var SPs = [
            {image: 'shoppingcart.png', name: 'ĐƠN HÀNG SỐ 1', id: '601', status: 'Đã giao', link: '5-order-01.html'},
            {image: 'shoppingcart.png', name: 'ĐƠN HÀNG SỐ 2', id: '602', status: 'Đã giao', link: '5-order-02.html'},
            {image: 'shoppingcart.png', name: 'ĐƠN HÀNG SỐ 3', id: '603', status: 'Đang giao', link: '5-order-03.html'},
            {image: 'shoppingcart.png', name: 'ĐƠN HÀNG SỐ 4', id: '604', status: 'Đang giao', link: '5-order-04.html'},
            {image: 'shoppingcart.png', name: 'ĐƠN HÀNG SỐ 5', id: '605', status: 'Đang giao', link: '5-order-05.html'},
            {image: 'shoppingcart.png', name: 'ĐƠN HÀNG SỐ 6', id: '606', status: 'Đang chuẩn bị', link: '5-order-06.html'},
            {image: 'shoppingcart.png', name: 'ĐƠN HÀNG SỐ 7', id: '607', status: 'Đang chuẩn bị', link: '5-order-07.html'}
        ];
        var results=[];
        function searchSP() {
            var input = document.getElementById('searchInput').value;
            if (input) {
                // Thực hiện tìm kiếm sản phẩm
                results = SPs.filter(SP => SP.name.toLowerCase().includes(input.toLowerCase()) || SP.id === input);

                // Lưu kết quả tìm kiếm vào localStorage
                localStorage.setItem('searchResults', JSON.stringify(results));
                // localStorage.setItem('currentPage', 1);

                // Chuyển hướng đến trang kết quả tìm kiếm
                window.location.href = '2-results-shoppingcart.html';
            } else {
                alert("Vui lòng nhập tên đơn hàng, mã đơn hàng hoặc trại thái đơn hàng!");
            }
        }
</script>

</html>